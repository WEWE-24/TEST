--// SERVICES
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

--// CONFIG DES SCRIPTS
local scriptsList = {
    { Name = "üü¢‚îÉINK GAME", Url = "https://raw.githubusercontent.com/WEWE-24/ink/refs/heads/main/ink" },
    { Name = "üü¢‚îÉObby But You‚Äôre On a Bike", Url = "https://raw.githubusercontent.com/WEWE-24/obbyvelo/refs/heads/main/obbyvelo" },
    { Name = "üü¢‚îÉThe Dropper ‚ú® [130+ LEVELS!]", Url = "https://raw.githubusercontent.com/WEWE-24/chute-libre/refs/heads/main/chutelibre" },
    { Name = "üü¢‚îÉMusical Chairs üéµü™ë", Url = "https://raw.githubusercontent.com/WEWE-24/Chaises/refs/heads/main/chaises" },
    { Name = "üü¢‚îÉ+1 Spe\u{200B}ed Esca\u{200B}pe", Url = "https://raw.githubusercontent.com/WEWE-24/Speed-Escape/refs/heads/main/Speedescape" },
    { Name = "üü¢‚îÉSlap battle", Url = "https://raw.githubusercontent.com/WEWE-24/slap-battle/refs/heads/main/slapbattle" },
	{ Name = "üü¢‚îÉBrookhaven", Url = "https://raw.githubusercontent.com/WEWE-24/Brook/refs/heads/main/brookk" },
    { Name = "üü¢‚îÉThe Ground is LAVA", Url = "https://raw.githubusercontent.com/WEWE-24/The-Ground-is-LAVA/refs/heads/main/trbfe" },
    { Name = "üü¢‚îÉüü¢‚îÉSuper\u{200B}hero\u{200B} Simulator", Url = "https://pastebin.com/raw/5jKEs7iB" },
}

--// GUI PRINCIPALE
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ScriptLoaderGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 350, 0, 360)
Frame.Position = UDim2.new(0.5, -175, 0.5, -180)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
Frame.BorderSizePixel = 0
Frame.AnchorPoint = Vector2.new(0.5, 0.5)
Frame.Active = true
Frame.Draggable = true
Frame.Visible = true
Frame.Parent = ScreenGui
Frame.ClipsDescendants = true

--// BARRE DE TITRE
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 40)
TitleBar.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = Frame

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, -40, 1, 0)
TitleLabel.Position = UDim2.new(0, 10, 0, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "807 HUB"
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextSize = 20
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
TitleLabel.Parent = TitleBar

local UnloadButton = Instance.new("TextButton")
UnloadButton.Size = UDim2.new(0, 70, 0, 30)
UnloadButton.Position = UDim2.new(1, -80, 0, 5)
UnloadButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
UnloadButton.TextColor3 = Color3.new(1, 1, 1)
UnloadButton.Text = "Unload"
UnloadButton.Font = Enum.Font.GothamBold
UnloadButton.TextSize = 16
UnloadButton.AutoButtonColor = false
UnloadButton.Parent = TitleBar

UnloadButton.MouseEnter:Connect(function()
    UnloadButton.BackgroundColor3 = Color3.fromRGB(255, 70, 70)
end)
UnloadButton.MouseLeave:Connect(function()
    UnloadButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
end)
UnloadButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

--// BARRE DE RECHERCHE
local SearchBox = Instance.new("TextBox")
SearchBox.Size = UDim2.new(1, -20, 0, 30)
SearchBox.Position = UDim2.new(0, 10, 0, 45)
SearchBox.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
SearchBox.TextColor3 = Color3.new(1, 1, 1)
SearchBox.Font = Enum.Font.Gotham
SearchBox.PlaceholderText = "Search for a script..."
SearchBox.Text = ""
SearchBox.TextSize = 16
SearchBox.ClearTextOnFocus = false
SearchBox.Parent = Frame

--// CONTAINER DES BOUTONS
local ButtonContainer = Instance.new("ScrollingFrame")
ButtonContainer.Size = UDim2.new(1, -20, 1, -110)
ButtonContainer.Position = UDim2.new(0, 10, 0, 80)
ButtonContainer.BackgroundTransparency = 1
ButtonContainer.BorderSizePixel = 0
ButtonContainer.ScrollBarThickness = 6
ButtonContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
ButtonContainer.Parent = Frame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Padding = UDim.new(0, 8)
UIListLayout.Parent = ButtonContainer

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(1, -20, 0, 30)
StatusLabel.Position = UDim2.new(0, 10, 1, -35)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.fromRGB(170, 170, 170)
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.TextSize = 14
StatusLabel.Text = "Pr√™t."
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left
StatusLabel.Parent = Frame

--// CHARGEMENT DU SCRIPT
local function executeScriptFromUrl(url)
    StatusLabel.Text = "T√©l√©chargement en cours..."
    local success, result = pcall(function()
        return game:HttpGet(url)
    end)

    if success then
        StatusLabel.Text = "Ex√©cution du script..."
        local func, err = loadstring(result)
        if func then
            local ok, execErr = pcall(func)
            if ok then
                StatusLabel.Text = "‚úÖ Script ex√©cut√© avec succ√®s."
            else
                StatusLabel.Text = "‚ùå Erreur d'ex√©cution : "..tostring(execErr)
            end
        else
            StatusLabel.Text = "‚ùå Erreur de compilation : "..tostring(err)
        end
    else
        StatusLabel.Text = "‚ùå Erreur de t√©l√©chargement : "..tostring(result)
    end
end

--// CR√âATION DES BOUTONS
local buttons = {}
local function createButton(scriptInfo)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 0, 40)
    button.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Font = Enum.Font.Gotham
    button.TextSize = 18
    button.Text = scriptInfo.Name
    button.AutoButtonColor = false
    button.Parent = ButtonContainer

    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(90, 90, 110)
    end)
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
    end)
    button.MouseButton1Click:Connect(function()
        executeScriptFromUrl(scriptInfo.Url)
    end)

    return button
end

local function refreshButtons(filterText)
    filterText = filterText:lower()
    local contentSize = 0
    for _, btnData in ipairs(buttons) do
        local match = btnData.ScriptInfo.Name:lower():find(filterText) ~= nil
        btnData.Button.Visible = match
        if match then
            contentSize = contentSize + btnData.Button.AbsoluteSize.Y + UIListLayout.Padding.Offset
        end
    end
    ButtonContainer.CanvasSize = UDim2.new(0, 0, 0, contentSize)
end

-- Cr√©er les boutons au d√©part
for _, scriptInfo in ipairs(scriptsList) do
    local btn = createButton(scriptInfo)
    table.insert(buttons, {Button = btn, ScriptInfo = scriptInfo})
end

-- Mise √† jour avec la barre de recherche
SearchBox:GetPropertyChangedSignal("Text"):Connect(function()
    refreshButtons(SearchBox.Text)
end)

-- Lancer le menu tout de suite
refreshButtons("")

--// TOUCHE DROITE SHIFT POUR OUVRIR/FERMER LE MENU
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.RightShift then
        if not SearchBox:IsFocused() then
            Frame.Visible = not Frame.Visible
            StatusLabel.Text = Frame.Visible and "Menu ouvert." or "Menu ferm√©."
        end
    end
end)
